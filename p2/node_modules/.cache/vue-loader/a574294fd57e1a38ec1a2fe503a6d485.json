{"remainingRequest":"/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vcavallo/code/e28/recipes/src/components/RecipeShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vcavallo/code/e28/recipes/src/components/RecipeShow.vue","mtime":1605566328714},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAiQC9hcGkuanMiOwppbXBvcnQgUmVjaXBlQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9SZWNpcGVDb21wb25lbnQudnVlIgppbXBvcnQgQWRkVG9MaXN0V2lkZ2V0IGZyb20gIkAvY29tcG9uZW50cy9BZGRUb0xpc3RXaWRnZXQudnVlIgoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbInJlY2lwZUlEIl0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0VXBSZWNpcGUodGhpcy5yZWNpcGVJRCk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVjaXBlOiB7fSwKICAgICAgY29tcG9uZW50czogW10sCiAgICAgIG5ld0NvbXBvbmVudE5hbWU6ICcnLAogICAgICBuZXdDb21wb25lbnRRdHk6IG51bGwsCiAgICAgIG5ld0NvbXBvbmVudFVuaXQ6ICcnLAogICAgICBhZGRpbmc6IGZhbHNlLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICByZWNpcGVJRCh2YWwpIHsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuc2V0VXBSZWNpcGUodmFsKTsKICAgICAgfQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFVwUmVjaXBlKHJJRCkgewogICAgICB0aGlzLmdldFJlY2lwZShySUQpOwogICAgICB0aGlzLmdldENvbXBvbmVudHNGb3JSZWNpcGUocklEKTsKICAgIH0sCiAgICBnZXRSZWNpcGUocklEKSB7CiAgICAgIGF4aW9zLmdldChgcmVjaXBlLyR7cklEfWApLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucmVjaXBlID0gcmVzLmRhdGEucmVjaXBlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb21wb25lbnRzRm9yUmVjaXBlKHJJRCkgewogICAgICBheGlvcy5nZXQoYHJlY2lwZUNvbXBvbmVudC9xdWVyeT9yZWNpcGVfaWQ9JHtySUR9YCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gcmVzLmRhdGEucmVzdWx0czsKICAgICAgfSk7CiAgICB9LAogICAgYWRkQ29tcG9uZW50KCkgewogICAgICB0aGlzLmFkZGluZyA9IHRydWUKICAgICAgYXhpb3MucG9zdCgncmVjaXBlQ29tcG9uZW50JywgewogICAgICAgIG5hbWU6IHRoaXMubmV3Q29tcG9uZW50TmFtZSwKICAgICAgICByZWNpcGVfaWQ6IHRoaXMucmVjaXBlSUQsCiAgICAgICAgcXVhbnRpdHk6IHRoaXMubmV3Q29tcG9uZW50UXR5LAogICAgICAgIHVuaXQ6IHRoaXMubmV3Q29tcG9uZW50VW5pdCwKICAgICAgfSkKICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSByZXMuZGF0YS5yZWNpcGVDb21wb25lbnQKICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5wdXNoKG5ld0NvbXBvbmVudCkKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLm5ld0NvbXBvbmVudE5hbWUgPSAnJwogICAgICAgIHRoaXMubmV3Q29tcG9uZW50UXR5ID0gbnVsbAogICAgICAgIHRoaXMubmV3Q29tcG9uZW50VW5pdCA9ICcnCiAgICAgICAgdGhpcy5hZGRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgUmVjaXBlQ29tcG9uZW50LAogICAgQWRkVG9MaXN0V2lkZ2V0CiAgfSwKfTsK"},{"version":3,"sources":["RecipeShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RecipeShow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h1>{{ recipe.name }}</h1>\n\n    <ul>\n      <div v-for=\"c in components\" :key=\"c.id\">\n        <AddToListWidget :componentID=\"c.id\" />\n        <RecipeComponent\n          :name=\"c.name\"\n          :quantity=\"c.quantity\"\n          :unit=\"c.unit\"\n        />\n      </div>\n      <div style=\"border: 1px solid black; padding: 10px; margin: 5px 0; display: inline-block\">\n        <form>\n          <div>\n            <label for=\"componentName\">\n              New ingredient name\n              <input placeholder=\"Olive Oil\" type=\"text\" id=\"componentName\" v-model=\"newComponentName\">\n            </label>\n          </div>\n          <div>\n            <label for=\"componentQty\">\n              Quantity\n              <input placeholder=\"1.5\" type=\"text\" id=\"componentQty\" v-model=\"newComponentQty\">\n            </label>\n          </div>\n          <div>\n            <label for=\"componentUnit\">\n              Unit\n              <input placeholder=\"Tbs\" type=\"text\" id=\"componentUnit\" v-model=\"newComponentUnit\">\n            </label>\n          </div>\n          <button :disabled=\"adding\" type=\"submit\" @click.prevent=\"addComponent\">Add</button>\n        </form>\n      </div>\n    </ul>\n\n    <p>\n      {{ recipe.instructions }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/api.js\";\nimport RecipeComponent from \"@/components/RecipeComponent.vue\"\nimport AddToListWidget from \"@/components/AddToListWidget.vue\"\n\nexport default {\n  props: [\"recipeID\"],\n  created() {\n    this.setUpRecipe(this.recipeID);\n  },\n  data() {\n    return {\n      recipe: {},\n      components: [],\n      newComponentName: '',\n      newComponentQty: null,\n      newComponentUnit: '',\n      adding: false,\n    };\n  },\n  watch: {\n    recipeID(val) {\n      if (val) {\n        this.setUpRecipe(val);\n      }\n    },\n  },\n  methods: {\n    setUpRecipe(rID) {\n      this.getRecipe(rID);\n      this.getComponentsForRecipe(rID);\n    },\n    getRecipe(rID) {\n      axios.get(`recipe/${rID}`).then((res) => {\n        this.recipe = res.data.recipe;\n      });\n    },\n    getComponentsForRecipe(rID) {\n      axios.get(`recipeComponent/query?recipe_id=${rID}`).then((res) => {\n        this.components = res.data.results;\n      });\n    },\n    addComponent() {\n      this.adding = true\n      axios.post('recipeComponent', {\n        name: this.newComponentName,\n        recipe_id: this.recipeID,\n        quantity: this.newComponentQty,\n        unit: this.newComponentUnit,\n      })\n      .then((res) => {\n        if (res.data.success) {\n          const newComponent = res.data.recipeComponent\n          this.components.push(newComponent)\n        }\n      })\n      .finally(() => {\n        this.newComponentName = ''\n        this.newComponentQty = null\n        this.newComponentUnit = ''\n        this.adding = false\n      })\n    }\n  },\n  components: {\n    RecipeComponent,\n    AddToListWidget\n  },\n};\n</script>\n"]}]}