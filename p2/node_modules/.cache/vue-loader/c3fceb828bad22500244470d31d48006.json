{"remainingRequest":"/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vcavallo/code/e28/recipes/src/components/AddToListWidget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vcavallo/code/e28/recipes/src/components/AddToListWidget.vue","mtime":1605564398954},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAiQC9hcGkuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImNvbXBvbmVudElEIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZW46IGZhbHNlLAogICAgICBnZXR0aW5nTGlzdHM6IGZhbHNlLAogICAgICBsaXN0czogW10sCiAgICAgIGdvdExpc3RzOiBmYWxzZSwKICAgICAgYWRkaW5nVG9MaXN0OiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdW51c2VkTGlzdHMoKSB7CiAgICAgIC8vIFRPRE86IG9ubHkgc2hvdyBsaXN0cyB0aGF0IGRvbid0IGNvbnRhaW4gdGhpcyBpdGVtPwogICAgICAvLyAgICAgICBPciBtYXliZSBpdCdzIGZpbmUgdG8gYWRkIG11bHRpcGxlIHRpbWVzCiAgICAgIHJldHVybiB0aGlzLmxpc3RzOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3RzKCkgewogICAgICB0aGlzLm9wZW4gPSAhdGhpcy5vcGVuOwoKICAgICAgaWYgKCF0aGlzLmdvdExpc3RzKSB7CiAgICAgICAgdGhpcy5nZXR0aW5nTGlzdHMgPSB0cnVlOwogICAgICAgIGF4aW9zCiAgICAgICAgICAuZ2V0KCJzaG9wcGluZ0xpc3QiKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLmxpc3RzID0gcmVzLmRhdGEuc2hvcHBpbmdMaXN0OwogICAgICAgICAgfSkKICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgdGhpcy5nb3RMaXN0cyA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuZ2V0dGluZ0xpc3RzID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFkZFRvTGlzdChsaXN0SUQpIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgic2hvcHBpbmdMaXN0SXRlbSIsIHsKICAgICAgICAgIHNob3BwaW5nX2xpc3RfaWQ6IGxpc3RJRCwKICAgICAgICAgIHJlY2lwZV9jb21wb25lbnRfaWQ6IHRoaXMuY29tcG9uZW50SUQsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AddToListWidget.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddToListWidget.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"display: inline-block\">\n    <i @click=\"getLists\" class=\"fas fa-list\" style=\"padding: 3px;\"></i>\n    <div v-if=\"open\" >\n      <div class=\"lists-container\">\n        <div v-if=\"gettingLists\">...Finding shopping lists</div>\n        <div v-else>\n          <div v-if=\"lists.length === 0\">\n            You don't have any shopping lists yet!\n          </div>\n          <div v-else>\n            <div v-for=\"l in unusedLists\" :key=\"l.id\">\n              <span style=\"margin-right: 8px;\">\n                <a href=\"#\" @click.prevent=\"addToList(l.id)\">Add to {{ l.name }}</a> \n              </span>\n\n              <a target=\"_blank\" :href=\"`/shopping-lists/${ l.id }`\">\n<i class=\"fas fa-external-link-square-alt\"></i>\n              </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/api.js\";\n\nexport default {\n  props: [\"componentID\"],\n  data() {\n    return {\n      open: false,\n      gettingLists: false,\n      lists: [],\n      gotLists: false,\n      addingToList: false,\n    };\n  },\n  computed: {\n    unusedLists() {\n      // TODO: only show lists that don't contain this item?\n      //       Or maybe it's fine to add multiple times\n      return this.lists;\n    },\n  },\n  methods: {\n    getLists() {\n      this.open = !this.open;\n\n      if (!this.gotLists) {\n        this.gettingLists = true;\n        axios\n          .get(\"shoppingList\")\n          .then((res) => {\n            this.lists = res.data.shoppingList;\n          })\n          .finally(() => {\n            this.gotLists = true;\n            this.gettingLists = false;\n          });\n      }\n    },\n    addToList(listID) {\n      axios\n        .post(\"shoppingListItem\", {\n          shopping_list_id: listID,\n          recipe_component_id: this.componentID,\n        })\n        .then(() => {\n          this.open = false\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.lists-container {\n  position: fixed;\n  background: white;\n  z-index: 10000;\n  border: 1px dotted black;\n  border-radius: 3px;\n  box-shadow: 2px 2px 2px black;\n  padding: 8px;\n}\n</style>\n"]}]}