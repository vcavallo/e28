{"remainingRequest":"/home/vcavallo/code/e28/recipes/node_modules/babel-loader/lib/index.js!/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vcavallo/code/e28/recipes/src/components/RecipeShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vcavallo/code/e28/recipes/src/components/RecipeShow.vue","mtime":1605650135954},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vcavallo/code/e28/recipes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGF4aW9zIH0gZnJvbSAiQC9hcGkuanMiOwppbXBvcnQgUmVjaXBlQ29tcG9uZW50IGZyb20gIkAvY29tcG9uZW50cy9SZWNpcGVDb21wb25lbnQudnVlIjsKaW1wb3J0IEFkZFRvTGlzdFdpZGdldCBmcm9tICJAL2NvbXBvbmVudHMvQWRkVG9MaXN0V2lkZ2V0LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJyZWNpcGVJRCJdLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFVwUmVjaXBlKHRoaXMucmVjaXBlSUQpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlY2lwZToge30sCiAgICAgIGNvbXBvbmVudHM6IFtdLAogICAgICBuZXdDb21wb25lbnROYW1lOiAnJywKICAgICAgbmV3Q29tcG9uZW50UXR5OiBudWxsLAogICAgICBuZXdDb21wb25lbnRVbml0OiAnJywKICAgICAgYWRkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICByZWNpcGVJRDogZnVuY3Rpb24gcmVjaXBlSUQodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLnNldFVwUmVjaXBlKHZhbCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFVwUmVjaXBlOiBmdW5jdGlvbiBzZXRVcFJlY2lwZShySUQpIHsKICAgICAgdGhpcy5nZXRSZWNpcGUocklEKTsKICAgICAgdGhpcy5nZXRDb21wb25lbnRzRm9yUmVjaXBlKHJJRCk7CiAgICB9LAogICAgZ2V0UmVjaXBlOiBmdW5jdGlvbiBnZXRSZWNpcGUocklEKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoInJlY2lwZS8iLmNvbmNhdChySUQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5yZWNpcGUgPSByZXMuZGF0YS5yZWNpcGU7CiAgICAgIH0pOwogICAgfSwKICAgIGdldENvbXBvbmVudHNGb3JSZWNpcGU6IGZ1bmN0aW9uIGdldENvbXBvbmVudHNGb3JSZWNpcGUocklEKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJyZWNpcGVDb21wb25lbnQvcXVlcnk/cmVjaXBlX2lkPSIuY29uY2F0KHJJRCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5jb21wb25lbnRzID0gcmVzLmRhdGEucmVzdWx0czsKICAgICAgfSk7CiAgICB9LAogICAgYWRkQ29tcG9uZW50OiBmdW5jdGlvbiBhZGRDb21wb25lbnQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5hZGRpbmcgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KCdyZWNpcGVDb21wb25lbnQnLCB7CiAgICAgICAgbmFtZTogdGhpcy5uZXdDb21wb25lbnROYW1lLAogICAgICAgIHJlY2lwZV9pZDogdGhpcy5yZWNpcGVJRCwKICAgICAgICBxdWFudGl0eTogdGhpcy5uZXdDb21wb25lbnRRdHksCiAgICAgICAgdW5pdDogdGhpcy5uZXdDb21wb25lbnRVbml0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICB2YXIgbmV3Q29tcG9uZW50ID0gcmVzLmRhdGEucmVjaXBlQ29tcG9uZW50OwoKICAgICAgICAgIF90aGlzMy5jb21wb25lbnRzLnB1c2gobmV3Q29tcG9uZW50KTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5uZXdDb21wb25lbnROYW1lID0gJyc7CiAgICAgICAgX3RoaXMzLm5ld0NvbXBvbmVudFF0eSA9IG51bGw7CiAgICAgICAgX3RoaXMzLm5ld0NvbXBvbmVudFVuaXQgPSAnJzsKICAgICAgICBfdGhpczMuYWRkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgUmVjaXBlQ29tcG9uZW50OiBSZWNpcGVDb21wb25lbnQsCiAgICBBZGRUb0xpc3RXaWRnZXQ6IEFkZFRvTGlzdFdpZGdldAogIH0KfTs="},{"version":3,"sources":["RecipeShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,KAAA,QAAA,UAAA;AACA,OAAA,eAAA,MAAA,kCAAA;AACA,OAAA,eAAA,MAAA,kCAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,UAAA,CADA;AAEA,EAAA,OAFA,qBAEA;AACA,SAAA,WAAA,CAAA,KAAA,QAAA;AACA,GAJA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,gBAAA,EAAA,EAHA;AAIA,MAAA,eAAA,EAAA,IAJA;AAKA,MAAA,gBAAA,EAAA,EALA;AAMA,MAAA,MAAA,EAAA;AANA,KAAA;AAQA,GAdA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AACA,UAAA,GAAA,EAAA;AACA,aAAA,WAAA,CAAA,GAAA;AACA;AACA;AALA,GAfA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA;AACA,WAAA,SAAA,CAAA,GAAA;AACA,WAAA,sBAAA,CAAA,GAAA;AACA,KAJA;AAKA,IAAA,SALA,qBAKA,GALA,EAKA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,kBAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,OAFA;AAGA,KATA;AAUA,IAAA,sBAVA,kCAUA,GAVA,EAUA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,2CAAA,GAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,OAFA;AAGA,KAdA;AAeA,IAAA,YAfA,0BAeA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA,gBADA;AAEA,QAAA,SAAA,EAAA,KAAA,QAFA;AAGA,QAAA,QAAA,EAAA,KAAA,eAHA;AAIA,QAAA,IAAA,EAAA,KAAA;AAJA,OAAA,EAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,cAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,eAAA;;AACA,UAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA,OAXA,EAYA,OAZA,CAYA,YAAA;AACA,QAAA,MAAA,CAAA,gBAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,eAAA,GAAA,IAAA;AACA,QAAA,MAAA,CAAA,gBAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA;AACA,OAjBA;AAkBA;AAnCA,GAtBA;AA2DA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA,eADA;AAEA,IAAA,eAAA,EAAA;AAFA;AA3DA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>\n      {{ recipe.name }}\n      <span v-if=\"r.recommended\" style=\"margin-left: 4px;\"><i class=\"fas fa-star\"></i></span>\n    </h1>\n\n    <ul>\n      <div v-for=\"c in components\" :key=\"c.id\">\n        <AddToListWidget :componentID=\"c.id\" />\n        <RecipeComponent\n          :name=\"c.name\"\n          :quantity=\"c.quantity\"\n          :unit=\"c.unit\"\n        />\n      </div>\n      <div style=\"border: 1px solid black; padding: 10px; margin: 5px 0; display: inline-block\">\n        <form>\n          <div>\n            <label for=\"componentName\">\n              New ingredient name\n              <input placeholder=\"Olive Oil\" type=\"text\" id=\"componentName\" v-model=\"newComponentName\">\n            </label>\n          </div>\n          <div>\n            <label for=\"componentQty\">\n              Quantity\n              <input placeholder=\"1.5\" type=\"text\" id=\"componentQty\" v-model=\"newComponentQty\">\n            </label>\n          </div>\n          <div>\n            <label for=\"componentUnit\">\n              Unit\n              <input placeholder=\"Tbs\" type=\"text\" id=\"componentUnit\" v-model=\"newComponentUnit\">\n            </label>\n          </div>\n          <button :disabled=\"adding\" type=\"submit\" @click.prevent=\"addComponent\">Add</button>\n        </form>\n      </div>\n    </ul>\n\n    <p>\n      {{ recipe.instructions }}\n    </p>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/api.js\";\nimport RecipeComponent from \"@/components/RecipeComponent.vue\"\nimport AddToListWidget from \"@/components/AddToListWidget.vue\"\n\nexport default {\n  props: [\"recipeID\"],\n  created() {\n    this.setUpRecipe(this.recipeID);\n  },\n  data() {\n    return {\n      recipe: {},\n      components: [],\n      newComponentName: '',\n      newComponentQty: null,\n      newComponentUnit: '',\n      adding: false,\n    };\n  },\n  watch: {\n    recipeID(val) {\n      if (val) {\n        this.setUpRecipe(val);\n      }\n    },\n  },\n  methods: {\n    setUpRecipe(rID) {\n      this.getRecipe(rID);\n      this.getComponentsForRecipe(rID);\n    },\n    getRecipe(rID) {\n      axios.get(`recipe/${rID}`).then((res) => {\n        this.recipe = res.data.recipe;\n      });\n    },\n    getComponentsForRecipe(rID) {\n      axios.get(`recipeComponent/query?recipe_id=${rID}`).then((res) => {\n        this.components = res.data.results;\n      });\n    },\n    addComponent() {\n      this.adding = true\n      axios.post('recipeComponent', {\n        name: this.newComponentName,\n        recipe_id: this.recipeID,\n        quantity: this.newComponentQty,\n        unit: this.newComponentUnit,\n      })\n      .then((res) => {\n        if (res.data.success) {\n          const newComponent = res.data.recipeComponent\n          this.components.push(newComponent)\n        }\n      })\n      .finally(() => {\n        this.newComponentName = ''\n        this.newComponentQty = null\n        this.newComponentUnit = ''\n        this.adding = false\n      })\n    }\n  },\n  components: {\n    RecipeComponent,\n    AddToListWidget\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}